https://github.com/postgrespro/pg_wait_sampling

as root:
chown -R postgres:postgres /usr/pgsql-11/
yum -y install git postgresql11-devel gcc centos-release-scl libicu-devel devtoolset-7 llvm-toolset-7
mkdir -p /usr/lib64/llvm5.0
mkdir -p /usr/lib64/llvm5.0/bin
cd /usr/lib64/llvm5.0/bin
ln -s /opt/rh/llvm-toolset-7/root/usr/bin/llvm-lto

yum -y install git postgresql11-devel gcc centos-release-scl libicu-devel devtoolset-7 llvm-toolset-7

as postgres:
git clone https://github.com/postgrespro/pg_wait_sampling.git
cd pg_wait_sampling
make USE_PGXS=1
sudo make USE_PGXS=1 install
make USE_PGXS=1 installcheck
psql postgres -c "CREATE EXTENSION pg_wait_sampling;"
psql postgres -c "alter system set shared_preload_libraries = 'pg_wait_sampling';"

chown -R postgres:postgres /usr/pgsql-11/

https://github.com/postgrespro/pg_wait_sampling/commit/34e9e4774705b41f0f193b9603ce2d053fddc49e

install postgresql11-server-dev-all
postgresql11-common